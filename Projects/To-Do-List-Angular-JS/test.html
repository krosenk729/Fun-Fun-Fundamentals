<!DOCTYPE html>
<html>
<head>
	<title>To Do? Or Not To Do?</title>
	<meta charset="utf-8">
	<meta name="description" content="Learning to use storage for things so incredibly useful">
</head>
<body>
	<main>
		<h2>To Do List</h2>
		<div class="all-to-dos">
			<div class="card" data-id="0">
				<h3>Trader Joes</h3>
				<em>Midtown Location</em>
				<p>Hummus <button class="del-to-do">X</button></p>
				<p>Face wash <button class="del-to-do">X</button></p>
				<p>Celery <button class="del-to-do">X</button></p>
				<form>
				<label class="hidden" for="new-to-do-0">Add a to do</label>
				<input type="text" name="new-to-do-0" id="new-to-do-0">
				<input type="submit" name="add-to-do-0">
			</form>
			</div>
		</div>

		<footer>
			<form>
				<label class="hidden" for="new-card">Add a Card</label>
				<input type="text" name="new-card" id="new-card">
				<form-group>
					<label class="hidden" for="new-card-type">Type of to do added</label>
					<select name="new-card-type" id="new-card-type">
						<option val="reg">Regular</option>
						<option val="store">Shopping List</option>
						<option val="work">Work Project</option>
					</select>
				</form-group>
				<input type="submit" class="add-card-btn" name="add-card-btn">
			</form>
		</footer>
	</main>
	<div class="bg">
		<canvas>
			<div class="backup-fill"></div>
		</canvas>
	</div>

	<script type="text/javascript">
		
	$('input[type="submit"]').on('click', function(evnt){
		evnt.preventDefault();
		let 

		if(listOfThings.checkList()){}
		// create new List Item in storage
		// add DOM element 
	});

	$('.all-to-dos').on('click','.del-to-do', function(){
		let tempName = $(this).prevUntil('h3').text();
		let tempItem = $(this).parent().text();

		//remove from object list and from DOM
		listOfThings[tempName].removeItem(tempItem);
		$(this).parent().remove();
	});

	let listOfThings = {};
	listOfThings.checkList = function(name){
		return this[name] ? true : false;
	}

	createDOM = function(title, list, extras){
		return `
		<div class="card">
		<h3>${title}</h3>
		${extras ? '<em>' + extras + '</em>' : '' }
		${ list.map( (i) => `<p>${i} <button class="del-to-do">X</button></p>` ) }
		</div>
		`;
	}

	class myListofThings{
		constructor(name, list){
			this.name = name;
			this._list = list || [];
		}
		checkItem(listItem){
			return this._list.indexOf(listItem) != -1;
		}
		checkItemIndex(listItem){
			return this._list.indexOf(listItem);
		}
		addItem(listItem){
			if(!this.checkItem(listItem)){
				this._list.push(listItem);
				return true;
			}
			return false;
		}
		removeItem(listItem){
			let x;
			if(-1 != (x = this.checkItemIndex(listItem) )){
				this._list = [...this._list.split(0,x), ...this._list.split(x+1)];
				return true; 
			}
			return false;
		}
		getList(){
			return this._list;
		}
	}

	class myShoppingList extends myListofThings{
		constructor(name, list, location){
			super(name);
			super(list);
			this._location = location;
		}
		getLoc(){
			return this._location;
		}
	}

	class myWorkProject extends myListofThings{
		constructor(name, list, project){
			super(name);
			super(list);
			this._project = project;
		}
		getProj(){
			return this._project;
		}
	}
	</script>
</body>
</html>